import{a as c}from"./chunk-WB3XM774.js";import{a}from"./chunk-PADSZVWK.js";import{N as n,Q as i,Qb as p,Rb as h,n as o,x as s}from"./chunk-U3NN5SHJ.js";var v=class r{constructor(t,e){this.http=t;this.authService=e}apiUrl=`${a.apiUrl}/reservations`;getAllReservations(){return this.http.get(`${this.apiUrl}/self/all`,{headers:this.createAuthorizationHeader()})}getUnreservedTrainings(){return this.http.get(`${a.apiUrl}/trainings/unreserved`,{headers:this.createAuthorizationHeader()})}getPastTrainings(){return this.http.get(`${this.apiUrl}/self/past`,{headers:this.createAuthorizationHeader()})}cancelReservation(t){return this.http.delete(`${this.apiUrl}/${t}/self/cancel-if-possible`,{headers:this.createAuthorizationHeader(),observe:"response"}).pipe(o(e=>{if(e.status!==200)throw new Error(`Unexpected status: ${e.status}`)}),s(e=>{throw console.error("Error in backend response:",e),e}))}createAuthorizationHeader(){let t=this.authService.getToken();return new p({Authorization:`Bearer ${t}`,"Content-Type":"application/json"})}createReservation(t){return this.http.post(`${this.apiUrl}/training/${t}`,{},{headers:this.createAuthorizationHeader()})}static \u0275fac=function(e){return new(e||r)(i(h),i(c))};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{v as a};
