import{a as I}from"./chunk-FICDNBXL.js";import"./chunk-WB3XM774.js";import"./chunk-PADSZVWK.js";import{Ca as l,Ga as c,Ia as v,Jb as M,Kb as O,Mb as P,Ob as w,Pa as o,Qa as i,U as u,V as b,Va as _,Ya as g,Zb as y,_a as d,ib as r,jb as h,kb as p,lb as k,ma as s,na as f,tb as C,vb as T,wa as x}from"./chunk-U3NN5SHJ.js";function E(a,n){if(a&1){let e=_();o(0,"li",9),g("click",function(){let m=u(e).$implicit,R=d(2);return b(R.onSelectTraining(m.id))}),o(1,"div",10)(2,"h3"),r(3),i(),o(4,"p")(5,"strong"),r(6,"Date:"),i(),r(7),C(8,"date"),i(),o(9,"p")(10,"strong"),r(11,"Time:"),i(),r(12),i(),o(13,"p")(14,"strong"),r(15,"Trainer:"),i(),r(16),i()()()}if(a&2){let e=n.$implicit,t=d(2);v("selected",e.id===t.selectedTrainingId),s(3),h(e.trainingName),s(4),p(" ",T(8,7,e.trainingDate,"shortDate"),""),s(5),k(" ",e.startHour," - ",e.endHour,""),s(4),p(" ",e.trainerName,"")}}function D(a,n){if(a&1&&(o(0,"ul",7),l(1,E,17,10,"li",8),i()),a&2){let e=d();s(),c("ngForOf",e.trainings)}}function N(a,n){if(a&1&&(o(0,"div",11),r(1),i()),a&2){let e=d();s(),p(" ",e.feedbackMessage," ")}}var S=class a{constructor(n,e){this.reservationService=n;this.router=e}trainings=[];selectedTrainingId=null;feedbackMessage="";ngOnInit(){this.loadUnreservedTrainings()}loadUnreservedTrainings(){this.reservationService.getUnreservedTrainings().subscribe({next:n=>{let e=new Date;this.trainings=n.filter(t=>new Date(t.date)>=e).map(t=>({id:t.id,trainingName:t.name,trainingDate:t.date,startHour:t.startHour||"TBA",endHour:t.endHour||"TBA",trainerName:t.trainer?`${t.trainer.name} ${t.trainer.surname}`:"TBA"}))},error:n=>console.error("Error fetching unreserved trainings:",n)})}onSelectTraining(n){this.selectedTrainingId=n,this.feedbackMessage=""}reserveTraining(){if(!this.selectedTrainingId){this.feedbackMessage="Please select a training first.";return}this.reservationService.createReservation(this.selectedTrainingId).subscribe({next:()=>{this.feedbackMessage="Training reserved successfully!",setTimeout(()=>this.router.navigate(["/client-dashboard"]),2e3)},error:n=>{console.error(n),this.feedbackMessage="Failed to reserve training. Please try again."}})}goBack(){this.router.navigate(["/client-dashboard"])}static \u0275fac=function(e){return new(e||a)(f(I),f(y))};static \u0275cmp=x({type:a,selectors:[["app-reserve-training"]],decls:10,vars:3,consts:[[1,"reserve-training"],[1,"page-title"],["class","training-list",4,"ngIf"],[1,"button-group"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","accent",3,"click"],["class","feedback-message",4,"ngIf"],[1,"training-list"],["class","training-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"training-item",3,"click"],[1,"training-info"],[1,"feedback-message"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"h2",1),r(2,"Reserve Your Training"),i(),l(3,D,2,1,"ul",2),o(4,"div",3)(5,"button",4),g("click",function(){return t.reserveTraining()}),r(6," Reserve Selected Training "),i(),o(7,"button",5),g("click",function(){return t.goBack()}),r(8,"Go Back"),i()(),l(9,N,2,1,"div",6),i()),e&2&&(s(3),c("ngIf",t.trainings.length>0),s(2),c("disabled",!t.selectedTrainingId),s(4),c("ngIf",t.feedbackMessage))},dependencies:[w,M,O,P],styles:[".reserve-training[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background:linear-gradient(135deg,#232526,#414345);min-height:100vh;color:#fff}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#7ed6df;margin-bottom:1.5rem}.training-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:20px;width:100%;max-width:1200px;max-height:600px;padding:10px;margin:0 auto;list-style:none;background:#2b2b3c;border-radius:8px;box-shadow:0 4px 6px #0003;overflow-y:auto}.training-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.training-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#7ed6df;border-radius:4px}.training-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6a11cb}.training-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#3b3b58}.training-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:15px;background:#2b2b3c;border-radius:8px;color:#fff;box-shadow:0 4px 6px #0003;cursor:pointer;transition:background .3s ease,transform .2s ease}.training-item[_ngcontent-%COMP%]:hover{background:#1e1e2c;transform:scale(1.02)}.training-item.selected[_ngcontent-%COMP%]{background:#1e1e2c;border:2px solid #7ed6df}.training-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.3rem;color:#fff}.training-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1rem;color:#dcdde1}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:2rem}button[_ngcontent-%COMP%]{min-width:180px;padding:12px 24px;font-size:1.1rem;font-weight:700;text-transform:uppercase;border-radius:50px;transition:all .3s ease;border:none}button[color=primary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#7928ca,#ff0080);color:#fff}button[color=primary][_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8e44ad,#ff4b81);box-shadow:0 4px 12px #5b34ea4d}button[color=accent][_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4b4b,#ff416c);color:#fff}button[color=accent][_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff6b6b,#ff5252);box-shadow:0 4px 12px #ff416c4d}button[_ngcontent-%COMP%]:disabled{background-color:#555;color:#ccc;cursor:not-allowed}.feedback-message[_ngcontent-%COMP%]{margin-top:20px;background:#3b3b58;color:#7ed6df;padding:10px 20px;border-radius:8px;text-align:center;box-shadow:0 4px 6px #0003}"]})};export{S as ReserveTrainingComponent};
