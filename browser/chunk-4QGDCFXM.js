import{a as z}from"./chunk-MXKH4JHY.js";import{b as E,f as I,g as N,h as R,i as F,j as V,p as Y,r as j}from"./chunk-7H4TAELE.js";import"./chunk-PADSZVWK.js";import{Ca as g,Ga as u,Ia as _,Jb as S,Kb as P,Ob as w,Pa as n,Qa as i,Sa as h,Ta as C,U as f,V as b,Va as O,Xb as T,Ya as l,Zb as A,_a as m,ib as a,kb as v,ma as d,mb as M,na as p,nb as k,ob as y,wa as x}from"./chunk-U3NN5SHJ.js";function W(r,o){if(r&1){let e=O();h(0),n(1,"span",12),l("click",function(){let c=f(e).index,s=m();return b(s.setRating(c+1))}),a(2," \u2605 "),i(),C()}if(r&2){let e=o.index,t=m();d(),_("filled",e<t.rating)}}function B(r,o){if(r&1&&(n(0,"div",13),a(1),i()),r&2){let e=m();d(),v(" ",e.feedbackMessage," ")}}var D=class r{constructor(o,e,t){this.opinionService=o;this.route=e;this.router=t;this.trainingId=+this.route.snapshot.paramMap.get("id")}trainingId;opinionText="";rating=5;stars=[1,2,3,4,5];feedbackMessage="";setRating(o){this.rating=o}submitOpinion(){this.opinionService.submitOpinion(this.trainingId,{text:this.opinionText,rating:this.rating}).subscribe({next:()=>{this.feedbackMessage="Opinion submitted successfully!",setTimeout(()=>this.router.navigate(["/client-dashboard"]),1e3)},error:o=>{console.error("Error submitting opinion:",o),o.error==="You have already left an opinion for this trainer."?this.feedbackMessage="You have already left an opinion for this trainer.":this.feedbackMessage="Failed to submit opinion. Please try again."}})}goBack(){this.router.navigate(["/client-dashboard"])}static \u0275fac=function(e){return new(e||r)(p(z),p(T),p(A))};static \u0275cmp=x({type:r,selectors:[["app-add-opinion"]],decls:19,vars:3,consts:[[1,"opinion-form"],[1,"page-title"],[3,"ngSubmit"],[1,"form-group"],["for","opinionText"],["id","opinionText","name","opinionText","required","","placeholder","Write your thoughts here...",3,"ngModelChange","ngModel"],[1,"stars"],[4,"ngFor","ngForOf"],[1,"button-group"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","color","accent","type","button",3,"click"],["class","feedback-message",4,"ngIf"],[1,"star",3,"click"],[1,"feedback-message"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"h2",1),a(2,"Add Opinion"),i(),n(3,"form",2),l("ngSubmit",function(){return t.submitOpinion()}),n(4,"div",3)(5,"label",4),a(6,"Your Opinion:"),i(),n(7,"textarea",5),y("ngModelChange",function(s){return k(t.opinionText,s)||(t.opinionText=s),s}),i()(),n(8,"div",3)(9,"label"),a(10,"Rating:"),i(),n(11,"div",6),g(12,W,3,2,"ng-container",7),i()(),n(13,"div",8)(14,"button",9),a(15,"Submit"),i(),n(16,"button",10),l("click",function(){return t.goBack()}),a(17,"Cancel"),i()()(),g(18,B,2,1,"div",11),i()),e&2&&(d(7),M("ngModel",t.opinionText),d(5),u("ngForOf",t.stars),d(6),u("ngIf",t.feedbackMessage))},dependencies:[w,S,P,j,V,E,I,N,Y,F,R],styles:[".opinion-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background:linear-gradient(135deg,#1a1b23,#232838);min-height:100vh;color:#fff}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#7dd4f6;margin-bottom:1.5rem;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;width:100%;max-width:500px}textarea[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:8px;font-size:1rem;background:#2b2b3c;color:#fff}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px #7dd4f6}.stars[_ngcontent-%COMP%]{display:flex;gap:.5rem;font-size:2rem;cursor:pointer}.star[_ngcontent-%COMP%]{color:#ccc;transition:color .3s ease}.star.filled[_ngcontent-%COMP%]{color:gold}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:2rem}button[_ngcontent-%COMP%]{min-width:180px;padding:12px 24px;font-size:1rem;font-weight:700;text-transform:uppercase;border-radius:50px;transition:all .3s ease;cursor:pointer}button[color=primary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#4526a6);color:#fff;box-shadow:0 4px 10px #0003}button[color=primary][_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4526a6,#6a11cb);box-shadow:0 6px 20px #0000004d;transform:translateY(-2px)}button[color=accent][_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8c42,#cc6d34);color:#fff;box-shadow:0 4px 10px #0003}button[color=accent][_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#cc6d34,#ff8c42);box-shadow:0 6px 20px #0000004d;transform:translateY(-2px)}button[_ngcontent-%COMP%]:disabled{background:#666;color:#a0aec0;cursor:not-allowed;box-shadow:none}.feedback-message[_ngcontent-%COMP%]{margin-top:20px;background:#2b2b3c;color:#7dd4f6;padding:10px 20px;border-radius:8px;text-align:center;box-shadow:0 4px 6px #0003}"]})};export{D as AddOpinionComponent};
