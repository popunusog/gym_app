import{b as Pt}from"./chunk-TA4ICQ4K.js";import{d as Et,e as St,f as kt,h as Lt}from"./chunk-JUEZHY5S.js";import{a as Rt,b as At}from"./chunk-P5IGRWT5.js";import"./chunk-INPFXH5L.js";import{g as Ot,j as wt,l as Dt,u as D,x as It}from"./chunk-PZVGKDTC.js";import{a as Ct,b as yt}from"./chunk-KIAPMKTF.js";import{C as mt,E as pt,G as ht,I as z,Y as ft,Z as gt,_ as _t,a as rt,aa as ut,ba as vt,c as lt,ca as bt,da as xt,ea as Tt,fa as Mt,k as ct,l as N,m as V,w as dt}from"./chunk-FVZDA3P3.js";import{r as at}from"./chunk-7H4TAELE.js";import"./chunk-HU7WFQWJ.js";import{a as Nt}from"./chunk-FICDNBXL.js";import{a as st}from"./chunk-WB3XM774.js";import"./chunk-PADSZVWK.js";import{Ca as b,Ga as p,Gb as J,I as _,Ia as S,Ib as w,Jb as tt,Kb as et,Mb as it,O as Y,Ob as nt,P as E,Pa as o,Qa as r,R as d,Ra as Z,U as u,V as v,Va as C,Ya as h,Z as B,Zb as ot,_a as f,a as x,aa as H,ca as P,cb as Q,db as W,eb as K,g as I,ga as j,ib as l,jb as g,ka as U,kb as k,lb as R,ma as c,na as T,ra as X,tb as M,ub as A,vb as L,wa as O,xa as G,xb as q,ya as $}from"./chunk-U3NN5SHJ.js";var Gt=["tooltip"],Ft=20;var Yt=new E("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let s=d(D);return()=>s.scrollStrategies.reposition({scrollThrottle:Ft})}});function $t(s){return()=>s.scrollStrategies.reposition({scrollThrottle:Ft})}var Zt={provide:Yt,deps:[D],useFactory:$t};function Qt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Wt=new E("mat-tooltip-default-options",{providedIn:"root",factory:Qt});var Vt="tooltip-panel",zt=lt({passive:!0}),Kt=8,qt=8,Jt=24,te=200,Bt=(()=>{class s{_overlay=d(D);_elementRef=d(P);_scrollDispatcher=d(Ot);_viewContainerRef=d(X);_ngZone=d(H);_platform=d(rt);_ariaDescriber=d(dt);_focusMonitor=d(mt);_dir=d(ht);_injector=d(B);_defaultOptions=d(Wt,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_scrollStrategy=d(Yt);_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=ee;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=N(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let e=N(t);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=V(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=V(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let e=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_document=d(J);_touchstartTimeout=null;_destroyed=new I;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._dir.change.pipe(_(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Kt}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(_(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([e,i])=>{t.removeEventListener(e,i,zt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(e);this._detach(),this._portal=this._portal||new Dt(this._tooltipComponent,this._viewContainerRef);let a=this._tooltipInstance=i.attach(this._portal).instance;a._triggerElement=this._elementRef.nativeElement,a._mouseLeaveHideDelay=this._hideDelay,a.afterHidden().pipe(_(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),a.show(t)}hide(t=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(t):(e._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&a._origin instanceof P)return this._overlayRef;this._detach()}let e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(_(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Vt}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(_(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(_(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(_(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!ct(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let e=t.getConfig().positionStrategy,i=this._getOrigin(),a=this._getOverlayPosition();e.withPositions([this._addOffset(x(x({},i.main),a.main)),this._addOffset(x(x({},i.fallback),a.fallback))])}_addOffset(t){let e=qt,i=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-e:t.originY==="bottom"?t.offsetY=e:t.originX==="start"?t.offsetX=i?-e:e:t.originX==="end"&&(t.offsetX=i?e:-e),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",e=this.position,i;e=="above"||e=="below"?i={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&t||e=="right"&&!t?i={originX:"start",originY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(i={originX:"end",originY:"center"});let{x:a,y:m}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:a,originY:m}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",e=this.position,i;e=="above"?i={overlayX:"center",overlayY:"bottom"}:e=="below"?i={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&t||e=="right"&&!t?i={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(i={overlayX:"start",overlayY:"center"});let{x:a,y:m}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:a,overlayY:m}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),U(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){let{overlayY:e,originX:i,originY:a}=t,m;if(e==="center"?this._dir&&this._dir.value==="rtl"?m=i==="end"?"left":"right":m=i==="start"?"left":"right":m=e==="bottom"&&a==="top"?"above":"below",m!==this._currentPosition){let y=this._overlayRef;if(y){let F=`${this._cssClassPrefix}-${Vt}-`;y.removePanelClass(F+this._currentPosition),y.addPanelClass(F+m)}this._currentPosition=m}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let e;t.x!==void 0&&t.y!==void 0&&(e=t),this.show(void 0,e)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let e=t.targetTouches?.[0],i=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let a=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??a)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",e=>{let i=e.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",e=>this._wheelListener(e)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([e,i])=>{this._elementRef.nativeElement.addEventListener(e,i,zt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let e=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;e!==i&&!i.contains(e)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let e=this._elementRef.nativeElement,i=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!e.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static \u0275fac=function(e){return new(e||s)};static \u0275dir=$({type:s,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,i){e&2&&S("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return s})(),ee=(()=>{class s{_changeDetectorRef=d(q);_elementRef=d(P);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new I;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let t=d(j,{optional:!0});this._animationsDisabled=t==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>Jt&&t.width>=te}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let e=this._tooltip.nativeElement,i=this._showAnimation,a=this._hideAnimation;if(e.classList.remove(t?a:i),e.classList.add(t?i:a),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let m=getComputedStyle(e);(m.getPropertyValue("animation-duration")==="0s"||m.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=O({type:s,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(e&1&&Q(Gt,7),e&2){let a;W(a=K())&&(i._tooltip=a.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,i){e&1&&h("mouseleave",function(m){return i._handleMouseLeave(m)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,i){if(e&1){let a=C();o(0,"div",1,0),h("animationend",function(y){return u(a),v(i._handleAnimationEnd(y))}),o(2,"div",2),l(3),r()()}e&2&&(S("mdc-tooltip--multiline",i._isMultiline),p("ngClass",i.tooltipClass),c(3),g(i.message))},dependencies:[w],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return s})();var Ht=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=G({type:s});static \u0275inj=Y({providers:[Zt],imports:[pt,It,z,z,wt]})}return s})();function ne(s,n){if(s&1){let t=C();o(0,"mat-list-item",25)(1,"div",26)(2,"h3",27),l(3),r(),o(4,"span",28),l(5),M(6,"date"),r()(),o(7,"button",29),h("click",function(){let i=u(t).$implicit,a=f(2);return v(a.navigateToAddOpinion(i.trainingId))}),l(8," Add Opinion "),r()()}if(s&2){let t=n.$implicit;c(3),g(t.trainingName),c(2),g(A(6,2,t.trainingDate))}}function oe(s,n){if(s&1&&(o(0,"mat-list",23),b(1,ne,9,4,"mat-list-item",24),r()),s&2){let t=f();c(),p("ngForOf",t.pastTrainings)}}function se(s,n){s&1&&(o(0,"p",30),l(1," No past trainings available. "),r())}function ae(s,n){if(s&1){let t=C();o(0,"mat-list-item",33)(1,"div",34)(2,"h3",35),l(3),r(),o(4,"div",36)(5,"p",37)(6,"span",38),l(7,"Date:"),r(),o(8,"span"),l(9),M(10,"date"),r()(),o(11,"p",37)(12,"span",38),l(13,"Time:"),r(),o(14,"span"),l(15),M(16,"date"),M(17,"date"),r()(),o(18,"p",37)(19,"span",38),l(20,"Trainer:"),r(),o(21,"span"),l(22),r()()()(),o(23,"div",39)(24,"button",40),h("click",function(){let i=u(t).$implicit,a=f(2);return v(a.confirmCancellation(i.id))}),o(25,"mat-icon"),l(26,"cancel"),r()(),o(27,"button",41),h("click",function(){let i=u(t).$implicit,a=f(2);return v(a.selectTrainingForChat(i.trainingId))}),o(28,"mat-icon"),l(29,"chat"),r()()()()}if(s&2){let t=n.$implicit,e=f(2);c(3),g(t.trainingName),c(6),g(A(10,5,t.trainingDate)),c(6),R(" ",L(16,7,e.getTimeAsDate(t.startHour),"shortTime")," - ",L(17,10,e.getTimeAsDate(t.endHour),"shortTime")," "),c(7),g(t.trainerName||"Unknown Trainer")}}function re(s,n){if(s&1&&(o(0,"mat-list",31),b(1,ae,30,13,"mat-list-item",32),r()),s&2){let t=f();c(),p("ngForOf",t.reservations)}}function le(s,n){s&1&&(o(0,"p",30),l(1," No upcoming reservations. "),r())}function ce(s,n){if(s&1){let t=C();o(0,"mat-card",42)(1,"mat-card-header")(2,"mat-card-title"),l(3,"Training Chat"),r(),o(4,"button",43),h("click",function(){u(t);let i=f();return v(i.closeChat())}),o(5,"mat-icon"),l(6,"close"),r()()(),o(7,"mat-card-content"),Z(8,"app-training-chat",44),r()()}if(s&2){let t=f();c(8),p("trainingId",t.selectedTrainingId)}}var jt=class s{constructor(n,t,e,i){this.authService=n;this.reservationService=t;this.router=e;this.snackBar=i}userName="";userSurname="";userRole="";carnetStatus="Loading...";carnetType="Loading...";reservations=[];pastTrainings=[];selectedTrainingId=null;feedbackMessage="";ngOnInit(){let n=this.authService.getUserInfo();this.userName=n?.name||"",this.userSurname=n?.surname||"",this.userRole=n?.role||"",this.loadCarnetDetails(n?.clientCode),this.loadUpcomingReservations(),this.loadPastTrainings()}loadCarnetDetails(n){if(!n||isNaN(n)||n<=0){console.error("Invalid clientCode:",n),this.carnetStatus="Error",this.carnetType="Error";return}this.authService.getCarnetStatus(n).subscribe({next:t=>{this.carnetType=t.type,this.carnetStatus=t.status},error:t=>{console.error("Error fetching carnet status:",t),this.carnetType="Error",this.carnetStatus="Error"}})}loadUpcomingReservations(){this.reservationService.getAllReservations().subscribe({next:n=>{let t=new Date;this.reservations=n.filter(e=>new Date(e.trainingDate)>t&&e.reservationStatus==="ACKNOWLEDGED")},error:n=>{console.error("Error fetching reservations:",n),this.snackBar.open("Failed to load reservations","Close",{duration:3e3})}})}loadPastTrainings(){this.reservationService.getPastTrainings().subscribe({next:n=>{this.pastTrainings=n},error:n=>{console.error("Error fetching past trainings:",n),this.snackBar.open("Failed to load past trainings","Close",{duration:3e3})}})}getTimeAsDate(n){if(!n)return new Date(1970,0,1,0,0,0);let[t,e,i]=n.split(":").map(Number);return new Date(1970,0,1,t,e,i||0)}logout(){this.authService.logout(),this.router.navigate(["/login"])}navigateToCarnetDetails(){this.router.navigate(["/carnet-details"])}navigateToReserveTraining(){this.router.navigate(["/reserve-training"])}navigateToAddOpinion(n){this.router.navigate([`/add-opinion/${n}`])}confirmCancellation(n){confirm("Are you sure you want to cancel this reservation?")&&this.cancelReservation(n)}cancelReservation(n){this.reservationService.cancelReservation(n).subscribe({next:()=>{this.snackBar.open("Reservation canceled successfully!","Close",{duration:3e3}),this.reservations=this.reservations.filter(t=>t.id!==n)},error:t=>{console.error("Error canceling reservation:",t),t.status===200?(this.snackBar.open("Reservation canceled successfully!","Close",{duration:3e3}),this.reservations=this.reservations.filter(e=>e.id!==n)):t.status===400&&t.error==="Reservation not found"?(this.snackBar.open("The reservation was already canceled or does not exist.","Close",{duration:3e3}),this.reservations=this.reservations.filter(e=>e.id!==n)):this.snackBar.open("Failed to cancel reservation. Please try again.","Close",{duration:3e3})}})}getCarnetStatusClass(n){switch(n){case"ACTIVE":return"status-active";case"EXPIRED":return"status-expired";default:return"status-unknown"}}getCarnetTypeClass(n){switch(n){case"PREMIUM":return"type-premium";case"DEFAULT":return"type-default";case"NONE":return"type-none";default:return"type-unknown"}}selectTrainingForChat(n){this.selectedTrainingId=n}closeChat(){this.selectedTrainingId=null}static \u0275fac=function(t){return new(t||s)(T(st),T(Nt),T(ot),T(Rt))};static \u0275cmp=O({type:s,selectors:[["app-client-dashboard"]],decls:53,vars:12,consts:[[1,"dashboard"],[1,"header-container"],[1,"welcome-container"],[1,"welcome-title"],[1,"role-badge"],["mat-raised-button","",1,"logout-button",3,"click"],[1,"content-grid"],[1,"content-column"],[1,"dashboard-card","carnet-card"],[1,"carnet-info"],[1,"info-row"],[1,"info-label"],[1,"info-value",3,"ngClass"],["mat-raised-button","",1,"details-button",3,"click"],[1,"dashboard-card","past-trainings-card"],[1,"scrollable-content"],["class","training-list",4,"ngIf"],["class","empty-message",4,"ngIf"],[1,"dashboard-card","upcoming-reservations-card"],["class","reservation-list",4,"ngIf"],["class","dashboard-card chat-card",4,"ngIf"],[1,"footer-container"],["mat-raised-button","",1,"reserve-button",3,"click"],[1,"training-list"],["class","training-item",4,"ngFor","ngForOf"],[1,"training-item"],[1,"training-info"],[1,"training-title"],[1,"training-date"],["mat-button","",1,"opinion-button",3,"click"],[1,"empty-message"],[1,"reservation-list"],["class","reservation-item",4,"ngFor","ngForOf"],[1,"reservation-item"],[1,"reservation-info"],[1,"reservation-title"],[1,"reservation-details"],[1,"detail-row"],[1,"detail-label"],[1,"action-buttons"],["mat-icon-button","","matTooltip","Cancel Reservation",1,"cancel-button",3,"click"],["mat-icon-button","","matTooltip","Open Chat",1,"chat-button",3,"click"],[1,"dashboard-card","chat-card"],["mat-icon-button","",1,"close-chat-button",3,"click"],[3,"trainingId"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4),r(),o(5,"div",4),l(6),r()(),o(7,"button",5),h("click",function(){return e.logout()}),o(8,"mat-icon"),l(9,"logout"),r(),l(10," Log Out "),r()(),o(11,"div",6)(12,"div",7)(13,"mat-card",8)(14,"mat-card-header")(15,"mat-card-title"),l(16,"Your Carnet"),r()(),o(17,"mat-card-content")(18,"div",9)(19,"div",10)(20,"span",11),l(21,"Status:"),r(),o(22,"span",12),l(23),r()(),o(24,"div",10)(25,"span",11),l(26,"Type:"),r(),o(27,"span",12),l(28),r()()()(),o(29,"mat-card-actions")(30,"button",13),h("click",function(){return e.navigateToCarnetDetails()}),l(31," View Details "),r()()(),o(32,"mat-card",14)(33,"mat-card-header")(34,"mat-card-title"),l(35,"Past Trainings"),r()(),o(36,"mat-card-content")(37,"div",15),b(38,oe,2,1,"mat-list",16)(39,se,2,0,"p",17),r()()()(),o(40,"div",7)(41,"mat-card",18)(42,"mat-card-header")(43,"mat-card-title"),l(44,"Upcoming Reservations"),r()(),o(45,"mat-card-content")(46,"div",15),b(47,re,2,1,"mat-list",19)(48,le,2,0,"p",17),r()()(),b(49,ce,9,1,"mat-card",20),r()(),o(50,"div",21)(51,"button",22),h("click",function(){return e.navigateToReserveTraining()}),l(52," Reserve More Trainings "),r()()()),t&2&&(c(4),R("Welcome, ",e.userName," ",e.userSurname,"!"),c(2),g(e.userRole),c(16),p("ngClass",e.getCarnetStatusClass(e.carnetStatus)),c(),k(" ",e.carnetStatus," "),c(4),p("ngClass",e.getCarnetTypeClass(e.carnetType)),c(),k(" ",e.carnetType," "),c(10),p("ngIf",e.pastTrainings.length>0),c(),p("ngIf",e.pastTrainings.length===0),c(8),p("ngIf",e.reservations.length>0),c(),p("ngIf",e.reservations.length===0),c(),p("ngIf",e.selectedTrainingId))},dependencies:[nt,w,tt,et,it,at,Mt,xt,Tt,bt,ft,ut,_t,vt,gt,kt,Et,St,yt,Ct,Ht,Bt,At,Pt,Lt],styles:[".dashboard[_ngcontent-%COMP%]{min-height:100vh;padding:2rem;background:linear-gradient(135deg,#1a1b23,#232838);color:#fff}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;background:linear-gradient(to right,#292d3ef2,#292d3ecc);border-radius:1rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin-bottom:2rem;border:1px solid rgba(255,255,255,.1)}.welcome-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.welcome-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;margin:0;background:linear-gradient(to right,#fff,#b8b9cc);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.role-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7928ca,#ff0080);color:#fff;padding:.5rem 1rem;border-radius:2rem;font-size:.875rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em}.logout-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4b4b,#ff416c);color:#fff;border:none;padding:.5rem 1.25rem;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.upcoming-reservations-card[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:2rem;margin-bottom:1.5rem;background:#ffffff1a;border-radius:.75rem;min-height:200px;transition:transform .3s ease,box-shadow .3s ease}.upcoming-reservations-card[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 12px #0003}.upcoming-reservations-card[_ngcontent-%COMP%]   .reservation-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;gap:.25rem}.upcoming-reservations-card[_ngcontent-%COMP%]   .reservation-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#fff}.upcoming-reservations-card[_ngcontent-%COMP%]   .reservation-details[_ngcontent-%COMP%]{font-size:1rem;color:#a0aec0}.upcoming-reservations-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem}.upcoming-reservations-card[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4b4b,#ff416c);color:#fff;font-size:1rem;padding:1rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;width:60px;height:60px;box-shadow:0 4px 8px #0003}.upcoming-reservations-card[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff6b6b,#ff5252);box-shadow:0 4px 12px #ff416c80;transform:scale(1.05)}.upcoming-reservations-card[_ngcontent-%COMP%]   .chat-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3c4fe0,#5b34ea);color:#fff;font-size:1rem;padding:1rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;width:60px;height:60px;box-shadow:0 4px 8px #0003}.upcoming-reservations-card[_ngcontent-%COMP%]   .chat-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b34ea,#3c4fe0);box-shadow:0 4px 12px #5b34ea80;transform:scale(1.05)}.mat-icon[_ngcontent-%COMP%]{font-size:1.5rem}.past-trainings-card[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:2rem;margin-bottom:1.5rem;background:#ffffff1a;border-radius:.75rem;min-height:150px;transition:transform .3s ease,box-shadow .3s ease}.past-trainings-card[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 12px #0003}.past-trainings-card[_ngcontent-%COMP%]   .training-info[_ngcontent-%COMP%]{flex:1}.past-trainings-card[_ngcontent-%COMP%]   .training-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;margin-bottom:.5rem;color:#fff}.past-trainings-card[_ngcontent-%COMP%]   .training-date[_ngcontent-%COMP%]{font-size:1.2rem;color:#a0aec0}.past-trainings-card[_ngcontent-%COMP%]   .opinion-button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem;background:linear-gradient(135deg,#3c4fe0,#5b34ea);color:#fff;border-radius:.5rem;transition:background .3s ease}.past-trainings-card[_ngcontent-%COMP%]   .opinion-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b34ea,#3c4fe0)}.logout-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #ff416c4d}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,600px),1fr));gap:2rem;margin:0 auto;max-width:2000px}.content-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.dashboard-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#292d3ef2,#292d3ecc);border-radius:1rem;border:1px solid rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:transform .3s ease,box-shadow .3s ease}.dashboard-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0003}mat-card-title[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:600;margin-bottom:1.5rem}.carnet-info[_ngcontent-%COMP%]{padding:1rem 0}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding:.75rem;background:#ffffff0d;border-radius:.5rem}.info-label[_ngcontent-%COMP%]{color:#a0aec0;font-weight:500}.details-button[_ngcontent-%COMP%]{width:100%;margin-top:1rem;background:linear-gradient(135deg,#3c4fe0,#5b34ea);color:#fff;transition:all .3s ease}.details-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #5b34ea4d}.scrollable-content[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;padding-right:.5rem}.training-list[_ngcontent-%COMP%], .reservation-list[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem}.training-item[_ngcontent-%COMP%], .reservation-item[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:.75rem;margin-bottom:1rem;padding:1.5rem;transition:background-color .3s ease}.training-item[_ngcontent-%COMP%]:hover, .reservation-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.training-info[_ngcontent-%COMP%], .reservation-info[_ngcontent-%COMP%]{flex:1}.training-title[_ngcontent-%COMP%], .reservation-title[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;font-weight:500;margin:0 0 .5rem}.training-date[_ngcontent-%COMP%], .reservation-details[_ngcontent-%COMP%]{color:#a0aec0;font-size:.9rem}.detail-row[_ngcontent-%COMP%]{margin:.25rem 0;display:flex;gap:.5rem}.detail-label[_ngcontent-%COMP%]{color:#a0aec0;font-weight:500}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.cancel-button[_ngcontent-%COMP%]{color:#ff4b4b}.chat-button[_ngcontent-%COMP%]{color:#3c4fe0}.chat-card[_ngcontent-%COMP%]{margin-top:2rem}.close-chat-button[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}.footer-container[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;padding:2rem 0}.reserve-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7928ca,#ff0080);color:#fff;padding:.75rem 2rem;font-size:1.1rem;border:none;transition:all .3s ease}.reserve-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #7928ca4d}.status-active[_ngcontent-%COMP%]{color:#48bb78}.status-expired[_ngcontent-%COMP%]{color:#f56565}.status-unknown[_ngcontent-%COMP%]{color:#a0aec0}.type-premium[_ngcontent-%COMP%]{color:#ecc94b}.type-default[_ngcontent-%COMP%]{color:#4299e1}.type-none[_ngcontent-%COMP%]{color:#f56565}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.empty-message[_ngcontent-%COMP%]{text-align:center;color:#a0aec0;font-style:italic;padding:2rem}@media (max-width: 768px){.dashboard[_ngcontent-%COMP%]{padding:1rem}.header-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem;padding:1rem}.welcome-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.logout-button[_ngcontent-%COMP%]{align-self:flex-end}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.dashboard-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}"]})};export{jt as ClientDashboardComponent};
